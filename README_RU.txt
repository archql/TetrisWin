# Tetris v.5.10. Сетевая версия. Релиз. #
- Поддерживаются версии Windows XP и старше.
- Проверено на Windows 10 и Windows 7.
- Игровой файл весит 12 кБ.

#### Отличие версий 5.*. от предшественников.
- размер вырос с 10 кБ (v.4.10) до 12 кБ.
- наличие модуля для отправки/приёма сообщений по локальной сети
 - авто синхронизация таблицы лидеров по сети
 - просмотр ников всех игровых клиентов в сети и их игрового состояния. 
- привязка клиента к вашему устройству.
- формат файла .ttr изменен -- старый формат все еще поддерживается, но только его отображение.
 - наличие защиты файла от несанкционированных изменений.
 - в файле хранится полный геймфрейм (те с его помощью можно полностью восстановить ваш игровой процесс)
- Изменена таблица лидеров 
 - теперь обязательно содержит запись текущего игрока (подсвечена). 
    Если его место в общем зачете больше 15, оно отображается как #.
 - таблица лидеров теперь отображает даже записи с нулевым счетом.
- Изменение правил никнеймов.
 - Никнеймы все еще состоят из символов 'A'..'Z', '_'
 - Существует базовый никнейм @DEFAULT, который не участвует в обчем зачете.
 - Игра теперь запоминает последний использованный клиентом никнейм.
- Существует 2 меню -- того, что отображается на экране
 - С таблицей лидеров и список онлайна (1) и полями игрового состояния всех клиентов онлайн (2)

#### Установка.
- изменить расширение .notexe на .exe (.notzip на .zip в зависимости от комплектации)
- поместить tetris.exe в удобную (желательно отдельную) папку
- все!

#### Игровой процесс.
- Прогресс сохраняется в файл, имя которого -- выбранный вами никнейм.
- Для игры придумайте себе никнейм, наберите его (ниже написано как)
- Игра при выходе запомнит, какой никнейм вы использовали.
- ник @DEFAULT является базовым и игровой процесс в нем не сохраняется!
- ВНИМАНИЕ! Играя на другом нике вы рискуете либо потерять собственный прогресс, 
 либо испортить жизнь другому игроку. Не надо так!
- Сменить ник НЕЛЬЗЯ во время игры и после регистрации в сети!

#### Базовое управление
 - сдвинуть фигуру влево         -- <
 - сдвинуть фигуру вправо        -- > 
 - повернуть по часовой стрелке  -- ^
 - повернуть против часовой      -- v
 - выйти/закончить игру          -- ESC
 - "hard drop"                   -- SPACE
 - "soft drop"                   -- SHIFT
 - поставить/снять с паузы       -- P   (русская З)
 - рестарт игры                  -- R   (русская К)
 - поместить фигуру в буфер      -- H   (русская Р)
 - заглушить/включить музыку     -- M   (русская Ь)
 - увеличить громкость           -- ]   (русская Ъ)
 - уменьшить громкость           -- [   (русская Х)
 

#### Управление никнеймом:
- Допустимый никнейм состоит из 8 символов 'A'..'Z', '_'
 для редактирования -- удерживать CTRL
 со всеми нажатиями управляющих клавиш:
 - писать                 -- A..Z
 - сдвинуть курсор влево  -- <
 - сдвинуть курсор вправо -- > 
 - удалить символ         -- BACKSPACE
 - применить изменения    -- ENTER

#### Cетевое управление:
- Игра работает по локальной сети.
- По ней происходит синхронизация рекордов и состояний игроков
- У клиента есть 5 состояний.
 - OFFLINE -- клиент не подключен к сети.
 - ON-LINE -- клиент подключен к сети, но не зарегистрирован.
 - REGSTRD -- клиент подключен и зарегистрирован в сети, необходим для работы сетевого функционала.
 - REJCTED -- клиент пытался подключиться к сети, в которой уже находился другой клиент с тем же никнеймом. 
      Смените никнейм и попробуйте снова.
 - UUIDERR -- клиент пытался получить UUID вашего устройства и не смог. Аналогичен режиму OFFLINE (без доступа к сетевому функционалу).
- Управление:
 - нажмите F3 для попытки подключения к сети.
 - нажмите F4 для одновременного старта сетевой игры с одинаковым ключом генерации. 
      Игра должна быть в состоянии GAME OVER для начала.
 - нажмите F2 для смены меню. 
  - меню №1 содержит таблицу лидеров и список подключенных клиентов.
  - меню №2 содержит малые окошки с отображением игрового процесса всех клиентов онлайн (в тч и вашего тоже!).

#### Дополнительная информация:
- Никнеймы теоретически поддерживают первые 128 символов таблицы ANSI, 
	однако поддержка таких никнеймов не гарантируется! Вы используете их только на свой страх и риск!
- игра по сети поддерживается через виртуальную локальную сеть
- для регистрации клиент отправляет сообщение о регистрации и ждет (сейчас 500 мс)
- при статусе REGSTRD изменить никнейм нельзя
- для защиты от клиентов с одинаковыми никами используется UUID устройства.
- для контроля клиентов онлайн используются сообщения ping. Если клиент получил такое сообщение, он проверяет полученный никнейм
   регистрирует его и устанавливает значение тайм-аута (сейчас 10 \* 200 мс = 2 с).
- Пинг-сообщение отправляется каждые 200 мс. Клиент проверяет все записи пинга также каждые 200 мс. 
- Таблица лидеров не обновляется автоматически. Для этого используйте клавишу R.
- Если вы получили сообщение REJCTED - измените свой никнейм и попробуйте снова подключиться (используйте клавишу F3).
- Вы по-прежнему можете получать обновления файлов, если ваше состояние REJCTED.
- В настоящей версии существует возможность удаленного управления игровым процессом (и только игровым процессом) с другого устройства, подключенного к той же локальной сети.
- Антивирусные программы могут ругаться на такое приложение. Всему виной его малый размер и то, что оно написано на ассемблере.